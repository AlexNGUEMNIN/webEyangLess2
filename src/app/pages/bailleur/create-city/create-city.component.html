<div class="mt-20 py-4">
  <div class="border border-gray-400 rounded-2xl mx-auto md:w-10/12 p-4">
    <div class="flex flex-row justify-between border-b border-b-gray-300 mb-4 pb-4">
      <div>
        <h1 class="text-2xl font-semibold">
          <i class="fas fa-arrow-left text-appgreen mr-2 cursor-pointer"
            (click)="back()"></i>
          Ajouter une cité
        </h1>
        
      </div>
      <!-- Les étapes -->
      <div>
        <span class="text-darkgreen">Etape {{ step }} sur {{ totalSteps }}</span>
      </div>
    </div>

    @if (step == 1) {
      <div>
        <h2 class="text-xl font-semibold mb-4">Caractéristiques</h2>
        <div class="flex flex-col md:flex-row justify-between gap-4">
          <div class="w-1/2 space-y-6">

            <!-- Nom de la cité -->
            <div class="space-y-2">
              <span> Nom de la cité</span>
              <div class="relative">
                <input
                  type="text"
                  [(ngModel)]="cityData.nom"
                  placeholder="Entrez le nom de la cité"
                  class="w-full pl-4 pr- py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                />
              </div>
            </div>

            <!-- Localisation de la cité -->
            <div class="space-y-2">
              <span> Localisation </span>
              <div class="relative">
                <input
                  type="text"
                  [(ngModel)]="cityData.localisation"
                  placeholder="Entrez la localisation"
                  class="w-full pl-4 pr- py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                />
              </div>
            </div>

            <!-- Description de la cité -->
            <div class="space-y-2">
              <span> Description </span>
              <div class="relative">
                <textarea
                  type="text"
                  [(ngModel)]="cityData.description"
                  placeholder="Entrez la description"
                  class="h-[200px] w-full pl-4 pr- py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                ></textarea>
              </div>
            </div>
          </div>
          <div class="w-1/2">
            <!-- Zone de drag and drop -->
            <div class="space-y-2">
              <span class="block text-sm font-medium text-gray-700">Photo de la cité</span>
              
              <div 
                class="relative border-2 border-dashed border-gray-300 rounded-xl p-6 text-center"
                (dragover)="dragOver($event)"
                (drop)="onFileDropped($event)"
              >
                @if (photoPreview) {
                  <!-- Aperçu de l'image si elle existe -->
                  <div class="mb-4">
                    <img 
                      [src]="photoPreview" 
                      alt="Aperçu de la photo de la cité"
                      class="max-h-60 mx-auto rounded-lg"
                    >
                  </div>
                } @else {
                  <!-- Zone de dépôt par défaut -->
                  <div>
                    <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    <div class="mt-2 flex text-sm text-gray-600">
                      <label for="file-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-teal-600 hover:text-teal-500 focus-within:outline-none">
                        <span>Téléverser un fichier</span>
                        <input 
                          id="file-upload" 
                          name="file-upload" 
                          type="file" 
                          class="sr-only"
                          accept="image/*"
                          (change)="onFileSelected($event)"
                        >
                      </label>
                      <p class="pl-1">ou glissez-déposez</p>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">PNG, JPG, GIF jusqu'à 5MB</p>
                  </div>
                }
                
                @if (photoPreview) {
                  <!-- Bouton de changement si image déjà sélectionnée -->
                  <div class="mt-4">
                    <label class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 cursor-pointer">
                      Changer l'image
                      <input 
                        type="file" 
                        class="sr-only"
                        accept="image/*"
                        (change)="onFileSelected($event)"
                      >
                    </label>
                  </div>
                }
              </div>
            </div>
          </div>
        </div>
        
        <!-- Bouton next -->
        <div class="flex flex-row justify-between"> 
          <span></span>
          <button class=" w-16 h-16 flex items-center justify-center text-white rounded-full"
            [class]="isFormOneValid() ? 'bg-appgreen' : 'bg-gray-300' "
            (click)="nextStep()">
            <i class="fas fa-arrow-right text-2xl"></i>
          </button>
        </div>
      </div>
    }

    @if(step == 2){
      <div>
        <h2 class="text-xl font-semibold mb-4">Caractéristiques générales</h2>
        <div class="flex flex-col md:flex-row justify-between gap-4">
          <div class="w-1/2 space-y-6">
            <!-- Nombre d'étages -->
            <div class="space-y-2">
              <span> Nombre d'étages</span>
              <div class="relative">
                <input
                  type="number"
                  min="0"
                  [(ngModel)]="cityData.caracteristiques.etages"
                  placeholder="Entrez le nombre d'étages"
                  class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                />
              </div>
            </div>

            <!-- Nombre de chambres -->
            <div class="space-y-2">
              <span> Nombre de chambres</span>
              <div class="relative">
                <input
                  type="number"
                  min="1"
                  [(ngModel)]="cityData.caracteristiques.chambres"
                  placeholder="Entrez le nombre de chambres"
                  class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                />
              </div>
            </div>

            <!-- Nombre d'étages -->
            <div class="space-y-2">
              <span> Taille par chambre (en m²) </span>
              <div class="relative">
                <input
                  type="number"
                  min="1"
                  [(ngModel)]="cityData.caracteristiques.tailleParChambre"
                  placeholder="Entrez la taille par chambre"
                  class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                />
              </div>
            </div>

            <!-- Nombre d'étages -->
            <div class="space-y-2">
              <span> Prix d'une chambre </span>
              <div class="relative">
                <input
                  type="number"
                  min="0"
                  [(ngModel)]="cityData.caracteristiques.prix"
                  placeholder="Entrez le prix d'une chambre"
                  class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                />
              </div>
            </div>
          </div>
          <div class="w-1/2 space-y-6">
            <!-- Durée du bail -->
            <div class="space-y-2">
              <span> Durée du bail </span>
              <div class="relative">
                <input
                  type="number"
                  min="1"
                  [(ngModel)]="cityData.caracteristiques.dureeBail"
                  placeholder="Entrez la durée du bail"
                  class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                />
              </div>
            </div>

            <!-- Montant de la caution -->
            <div class="space-y-2">
              <span> Montant de la caution </span>
              <div class="relative">
                <input
                  type="number"
                  min="0"
                  [(ngModel)]="cityData.caracteristiques.caution"
                  placeholder="Entrez le montant de la caution"
                  class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                />
              </div>
            </div>
          </div>
        </div>
 
        <h2 class="text-xl font-semibold mb-4 mt-10">Caractéristiques financières</h2>
        <div class="flex flex-col md:flex-row justify-between gap-4">
          <div class="w-1/2 space-y-6">
            <!-- Banque -->
            <div class="space-y-2">
              <span> Banque </span>
              <div class="relative">
                <input
                  type="text" 
                  [(ngModel)]="cityData.caracteristiques.banque"
                  placeholder="Entrer le nom de la banque"
                  class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                />
              </div>
            </div>
          </div>
          <div class="w-1/2 space-y-6">
            <!-- Numéro de compte -->
            <div class="space-y-2">
              <span> Numéro de compte </span>
              <div class="relative">
                <input
                  type="text" 
                  [(ngModel)]="cityData.caracteristiques.numeroCompte"
                  placeholder="Entrer le numéro de compte "
                  class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                />
              </div>
            </div>
          </div>
        </div>

        <h2 class="text-xl font-semibold mb-4 mt-10">Autres caractéristiques</h2>
        <div class="flex flex-col md:flex-row justify-between gap-4">
          <div class="w-1/2 space-y-6">
            <!-- Eau -->
            <div class="space-y-2">
              <span> Eau</span>
              <div class="relative">
                <select
                  placeholder="Sélectionner le type de facture pour l'eau"
                  class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                  [(ngModel)]="cityData.caracteristiques.eau"
                >
                  <option value="Gratuite">Gratuite</option>
                  <option value="Compteur pré-payé">Compteur pré-payé</option>
                  <option value="Facturé par mois">Facturé par mois</option>
                </select>
              </div>
            </div>

            <!-- Electricité -->
            <div class="space-y-2">
              <span> Electricité</span>
              <div class="relative">
                <select
                  placeholder="Sélectionner le tyoe de facturationd de l'electricité"
                  class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
                  [(ngModel)]="cityData.caracteristiques.electricite"
                >
                  <option value="Gratuite">Gratuite</option>
                  <option value="Compteur pré-payé">Compteur pré-payé</option>
                  <option value="Facturé par mois">Facturé par mois</option>
                </select>
              </div>
            </div>
          </div>
          <div class="w-1/2 space-y-6">
            <!-- Groupe électrogène -->
            <div class="flex items-center justify-between border-b border-b-gray-300 pb-3">
              <span class="text-gray-900">Groupe électrogène</span>
              <button
                (click)="toggleData('groupeElectrogene')"
                class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                [class]="cityData.caracteristiques.groupeElectrogene ? 'bg-appgreen' : 'bg-gray-200'"
              >
                <span
                  class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                  [class]="cityData.caracteristiques.groupeElectrogene ? 'translate-x-6' : 'translate-x-1'"
                ></span>
              </button>
            </div>

            <!-- Forage -->
            <div class="flex items-center justify-between border-b border-b-gray-300 pb-3">
              <span class="text-gray-900">Forage</span>
              <button
                (click)="toggleData('forage')"
                class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                [class]="cityData.caracteristiques.forage ? 'bg-appgreen' : 'bg-gray-200'"
              >
                <span
                  class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                  [class]="cityData.caracteristiques.forage ? 'translate-x-6' : 'translate-x-1'"
                ></span>
              </button>
            </div>

            <!-- Gardien -->
            <div class="flex items-center justify-between border-b border-b-gray-300 pb-3">
              <span class="text-gray-900">Gardien</span>
              <button
                (click)="toggleData('gardien')"
                class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                [class]="cityData.caracteristiques.gardien ? 'bg-appgreen' : 'bg-gray-200'"
              >
                <span
                  class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                  [class]="cityData.caracteristiques.gardien ? 'translate-x-6' : 'translate-x-1'"
                ></span>
              </button>
            </div>

            <!-- Concierge -->
            <div class="flex items-center justify-between border-b border-b-gray-300 pb-3">
              <span class="text-gray-900">Concierge</span>
              <button
                (click)="toggleData('concierge')"
                class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                [class]="cityData.caracteristiques.concierge ? 'bg-appgreen' : 'bg-gray-200'"
              >
                <span
                  class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                  [class]="cityData.caracteristiques.concierge ? 'translate-x-6' : 'translate-x-1'"
                ></span>
              </button>
            </div>

            <!-- Barrière -->
            <div class="flex items-center justify-between border-b border-b-gray-300 pb-3">
              <span class="text-gray-900">Barrière</span>
              <button
                (click)="toggleData('barriere')"
                class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                [class]="cityData.caracteristiques.barriere ? 'bg-appgreen' : 'bg-gray-200'"
              >
                <span
                  class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                  [class]="cityData.caracteristiques.barriere ? 'translate-x-6' : 'translate-x-1'"
                ></span>
              </button>
            </div>
          </div>
        </div>
        <!-- Bouton next -->
        <div class="flex flex-row justify-between mt-5"> 
          <span></span>
          <button class="w-16 h-16 flex items-center justify-center text-white rounded-full"
            [class]="isFormTwoValid() ? 'bg-appgreen' : 'bg-gray-300'"
            (click)="nextStep()">
            <i class="fas fa-arrow-right text-2xl"></i>
          </button>
        </div>
      </div>
    }

    @if (step == 3) {
      <div>
        <h2 class="text-xl font-semibold mb-4">Suppléments</h2>
        <div class="flex flex-col md:flex-row justify-between gap-4">
          <div class="w-1/2 space-y-6">
            <!-- Restaurant -->
            <div class="flex items-center justify-between border-b border-b-gray-300 pb-3">
              <span class="text-gray-900">Restaurant</span>
              <button
                (click)="toggleDataSupplement('restaurant')"
                class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                [class]="cityData.supplements.restaurant ? 'bg-appgreen' : 'bg-gray-200'"
              >
                <span
                  class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                  [class]="cityData.supplements.restaurant ? 'translate-x-6' : 'translate-x-1'"
                ></span>
              </button>
            </div>

            <!-- Salle de jeux -->
            <div class="flex items-center justify-between border-b border-b-gray-300 pb-3">
              <span class="text-gray-900">Salle de jeux</span>
              <button
                (click)="toggleDataSupplement('salleDeJeux')"
                class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                [class]="cityData.supplements.salleDeJeux ? 'bg-appgreen' : 'bg-gray-200'"
              >
                <span
                  class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                  [class]="cityData.supplements.salleDeJeux ? 'translate-x-6' : 'translate-x-1'"
                ></span>
              </button>
            </div>

            <!-- Salle de fêtes -->
            <div class="flex items-center justify-between border-b border-b-gray-300 pb-3">
              <span class="text-gray-900">Salle de fêtes</span>
              <button
                (click)="toggleDataSupplement('salleDeFetes')"
                class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                [class]="cityData.supplements.salleDeFetes ? 'bg-appgreen' : 'bg-gray-200'"
              >
                <span
                  class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                  [class]="cityData.supplements.salleDeFetes ? 'translate-x-6' : 'translate-x-1'"
                ></span>
              </button>
            </div>

            <!-- Salon de coiffure -->
            <div class="flex items-center justify-between border-b border-b-gray-300 pb-3">
              <span class="text-gray-900">Salon de coiffure</span>
              <button
                (click)="toggleDataSupplement('salonDeCoiffure')"
                class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                [class]="cityData.supplements.salonDeCoiffure ? 'bg-appgreen' : 'bg-gray-200'"
              >
                <span
                  class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                  [class]="cityData.supplements.salonDeCoiffure ? 'translate-x-6' : 'translate-x-1'"
                ></span>
              </button>
            </div>

            <!-- Boutique -->
            <div class="flex items-center justify-between border-b border-b-gray-300 pb-3">
              <span class="text-gray-900">Boutique</span>
              <button
                (click)="toggleDataSupplement('boutique')"
                class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                [class]="cityData.supplements.boutique ? 'bg-appgreen' : 'bg-gray-200'"
              >
                <span
                  class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                  [class]="cityData.supplements.boutique ? 'translate-x-6' : 'translate-x-1'"
                ></span>
              </button>
            </div>
          </div>
        </div>
        <!-- Bouton next -->
        <div class="flex flex-row justify-between mt-5"> 
          <span></span>
          <button class="bg-appgreen w-16 h-16 flex items-center justify-center text-white rounded-full"
            (click)="nextStep()">
            <i class="fas fa-arrow-right text-2xl"></i>
          </button>
        </div>
      </div>
    }

    @if (step == 4) {
      <div>
        <h2 class="text-xl font-semibold mb-4 flex flex-row justify-between">Contacts 
          <div>
            <span class="bg-blue-600 hover:bg-blue-800 cursor-pointer text-white flex rounded-full w-10 h-10 items-center justify-center"
              (click)="isAddContactFormOpened = true; isBlackBackgroundVisible = true">
              <i class=" fas fa-add"></i>
            </span>
          </div>
        </h2>
        <div class="flex md:grid flex-col md:grid-cols-3 gap-2 md:gap-4 border-b border-b-gray-300 pb-2 mb-10">
          @for (contact of cityData.contacts; track $index) {
            <app-contact [data]="contact" (remove)="removeContactByEmail($event)"></app-contact>
          }
        </div>

        <h2 class="text-xl font-semibold mb-4 flex flex-row justify-between">Documents légaux 
          <div>
            <span class="bg-blue-600 hover:bg-blue-800 cursor-pointer text-white flex rounded-full w-10 h-10 items-center justify-center"
              (click)="isDocumentFormOpened = true; isBlackBackgroundVisible = true">
              <i class=" fas fa-add"></i>
            </span>
          </div>
        </h2>
        <div class="flex flex-col md:grid md:grid-cols-3 justify-between gap-4 border-b border-b-gray-300 pb-2 mb-10">
          @for(document of cityData.documents; track $index){
            <div class="flex items-center justify-between bg-gray-50 p-3 rounded-lg">
              <div class="flex items-center">
                <svg class="h-5 w-5 text-gray-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  @if (document.type === 'application/pdf') {
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                  } @else {
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                  }
                </svg>
                <span class="text-sm text-gray-700 truncate max-w-xs">{{ document.name }}</span>
                <span class="text-xs text-gray-500 ml-2">({{ formatFileSize(document.size) }})</span>
              </div>
              <button 
                type="button" 
                class="text-red-500 hover:text-red-700"
                (click)="removeDocument($index)"
              >
                <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                </svg>
              </button>
            </div>
          }
        </div>

        <h2 class="text-xl font-semibold mb-4 flex flex-row justify-between">Images et vidéos 
          <div>
            <span class="bg-blue-600 hover:bg-blue-800 cursor-pointer text-white flex rounded-full w-10 h-10 items-center justify-center"
              (click)="isVideoFormOpened = true; isBlackBackgroundVisible = true">
              <i class=" fas fa-add"></i>
            </span>
          </div>
        </h2>
        <div class="flex flex-col md:grid md:grid-cols-4 justify-between gap-4 border-b border-b-gray-300 pb-2 mb-10">
          @for (media of cityData.images; track $index) {
            <div class="relative group">
              @if (media.isImage) {
                <img 
                  [src]="media.preview" 
                  [alt]="media.name"
                  class="w-full h-32 object-cover rounded-lg"
                >
              } @else {
                <div class="w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center">
                  <svg class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
              }
              
              <div class="absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex flex-col justify-between p-2">
                <div class="text-white text-xs truncate">{{ media.name }}</div>
                <button 
                  type="button" 
                  class="self-end text-white hover:text-red-300"
                  (click)="removeTemporaryMedia($index)"
                >
                  <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                  </svg>
                </button>
              </div>
            </div>
          }
        </div>

        <div class="mt-4 flex flex-row justify-between">
          <span></span>
          <div>
            <button class="text-white rounded-xl py-3 px-10"
              [class]="isFormFourValid() ? 'bg-appgreen hover:bg-darkgreen' : 'bg-gray-300'"
              (click)="nextStep()">
              Voir le résumé
            </button>
          </div>
        </div>
      </div>
    }

    @if (step == 5) {
      <div class="flex flex-row justify-between gap-4">
        <div class="w-full md:w-1/2">
          <h1 class="text-darkgreen text-3xl font-semibold">
            <i class="fas fa-building mr-3"></i> {{ cityData.nom }}</h1>
          <p class="my-2"><i class="fas fa-location mr-2"></i> {{ cityData.localisation }}</p>
          <div class="w-full h-[400px] rounded-xl overflow-hidden mt-2 bg-cover bg-center"
            style="background-image: url('{{ photoPreview }}');">
           
          </div>
        </div>
        <div class="w-full md:w-1/2 space-y-6">
          <div class="">
            <h2 class="text-xl font-semibold mb-3">Description</h2>
            <p class="">{{ cityData.description }}</p>
          </div>

          <div class="">
            <h2 class="flex flew-row justify-between text-xl mt-4 font-semibold mb-3">
              Caractéristiques
              <span>
                <i class="fas fa-chevron-up text-gray-600 duration-300 cursor-pointer"
                  [class]="sections.caracteristiques ? '' : 'rotate-180'"
                  (click)="toggleSection('caracteristiques')"></i>
              </span>
            </h2>
            <div class="overflow-hidden duration-300" 
              [class]="sections.caracteristiques ? 'h-fit' : 'h-0'">
              <div class="bg-gray-50 rounded-xl p-4 w-full">
                <span class="border-b border-b-gray-300 flex flex-row justify-between py-3">
                  <span class="">Nombre d'étages</span>
                  <span class="text-right font-semibold"> {{ cityData.caracteristiques.etages }} </span>
                </span>
                <span class="border-b border-b-gray-300 flex flex-row justify-between py-3">
                  <span class="">Nombre de chambres</span>
                  <span class="text-right font-semibold"> {{ cityData.caracteristiques.chambres }} </span>
                </span>
                <span class="border-b border-b-gray-300 flex flex-row justify-between py-3">
                  <span class="">Prix</span>
                  <span class="text-right font-semibold"> {{ cityData.caracteristiques.prix }} FCFA</span>
                </span>
                <span class="border-b border-b-gray-300 flex flex-row justify-between py-3">
                  <span class="">Taille par chambre</span>
                  <span class="text-right font-semibold"> {{ cityData.caracteristiques.tailleParChambre }}m²</span>
                </span>
                <span class="border-b border-b-gray-300 flex flex-row justify-between py-3">
                  <span class="">Durée du bail</span>
                  <span class="text-right font-semibold"> {{ cityData.caracteristiques.dureeBail }} mois</span>
                </span>
                <span class="flex flex-row justify-between py-3">
                  <span class="">Montant de la caution</span>
                  <span class="text-right font-semibold"> {{ cityData.caracteristiques.caution }} FCFA</span>
                </span>
              </div>
            </div>

<!-- Caractéristiques financières -->
            <h2 class="flex flew-row justify-between text-xl mt-4 font-semibold mb-3">
              Caractéristiques financières
              <span>
                <i class="fas fa-chevron-up text-gray-600 duration-300 cursor-pointer"
                  [class]="sections.caracteristiquesFinancieres ? '' : 'rotate-180'"
                  (click)="toggleSection('caracteristiquesFinancieres')"></i>
              </span>
            </h2>
            <div class="overflow-hidden duration-300" 
              [class]="sections.caracteristiquesFinancieres ? 'h-fit' : 'h-0'">
              <div class="bg-gray-50 rounded-xl p-4 w-full">
                <span class="border-b border-b-gray-300 flex flex-row justify-between py-3">
                  <span class="">Banque</span>
                  <span class="text-right font-semibold"> {{ cityData.caracteristiques.banque }} </span>
                </span>
                <span class="flex flex-row justify-between py-3">
                  <span class="">numéro de compte</span>
                  <span class="text-right font-semibold">{{ cityData.caracteristiques.numeroCompte }}</span>
                </span>
              </div>
            </div>

<!-- Suppléments -->
            <h2 class="flex flew-row justify-between text-xl mt-4 font-semibold mb-3">
              Suppléments
              <span>
                <i class="fas fa-chevron-up text-gray-600 duration-300 cursor-pointer"
                  [class]="sections.supplements ? '' : 'rotate-180'"
                  (click)="toggleSection('supplements')"></i>
              </span>
            </h2>
            <div class="overflow-hidden duration-300" 
              [class]="sections.supplements ? 'h-fit' : 'h-0'">
              <div class="bg-gray-50 rounded-xl p-4 w-full">
                <!-- @for (supplement of cityData.supplements; track $index) {
                  @if(supplement == true){
                    <span class="bg-green-300 rounded-full px-3 py-2 mr-2 font-semibold text-green-900">
                      @if(supplement.key == "Restaurant"){
                        Restaurant
                      }@else if (supplement.key == "Boutique"){
                        Boutique
                      }
                    </span>
                  }
                } -->
              </div>
            </div>

<!-- Contacts -->
            <h2 class="flex flew-row justify-between text-xl mt-4 font-semibold mb-3">
              Contacts
              <span>
                <i class="fas fa-chevron-up text-gray-600 duration-300 cursor-pointer"
                  [class]="sections.contacts ? '' : 'rotate-180'"
                  (click)="toggleSection('contacts')"></i>
              </span>
            </h2>
            <div class="overflow-hidden duration-300" 
              [class]="sections.contacts ? 'h-fit' : 'h-0'">
              <div class="bg-gray-50 rounded-xl p-4 w-full">
                @for (contact of cityData.contacts; track $index) {
                  <app-contact [data]="contact"></app-contact>
                }
                
              </div>
            </div>

<!-- Documents -->
            <h2 class="flex flew-row justify-between text-xl mt-4 font-semibold mb-3">
              Documents
              <span>
                <i class="fas fa-chevron-up text-gray-600 duration-300 cursor-pointer"
                  [class]="sections.documents ? '' : 'rotate-180'"
                  (click)="toggleSection('documents')"></i>
              </span>
            </h2>
            <div class="overflow-hidden duration-300" 
              [class]="sections.documents ? 'h-fit' : 'h-0'">
              <div class="bg-gray-50 rounded-xl p-4 w-full">
                @for (document of cityData.documents; track $index) {
                  <div class="flex items-center justify-between bg-gray-50 p-3 rounded-lg">
                    <div class="flex items-center">
                      <svg class="h-5 w-5 text-gray-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        @if (document.type === 'application/pdf') {
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        } @else {
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        }
                      </svg>
                      <span class="text-sm text-gray-700 truncate max-w-xs">{{ document.name }}</span>
                      <span class="text-xs text-gray-500 ml-2">({{ formatFileSize(document.size) }})</span>
                    </div>
                    <button 
                      type="button" 
                      class="text-red-500 hover:text-red-700"
                      (click)="removeDocument($index)"
                    >
                      <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                      </svg>
                    </button>
                  </div>
                }
                
              </div>
            </div>

<!-- Images et vidéos -->
            <h2 class="flex flew-row justify-between text-xl mt-4 font-semibold mb-3">
              Images et vidéos
              <span>
                <i class="fas fa-chevron-up text-gray-600 duration-300 cursor-pointer"
                  [class]="sections.images ? '' : 'rotate-180'"
                  (click)="toggleSection('images')"></i>
              </span>
            </h2>
            <div class="overflow-hidden duration-300" 
              [class]="sections.images ? 'h-fit' : 'h-0'">
              <div class="bg-gray-50 rounded-xl p-4 w-full">
                @for (media of cityData.images; track $index) {
                  <div class="relative group">
                  @if (media.isImage) {
                    <img 
                      [src]="media.preview" 
                      [alt]="media.name"
                      class="w-full h-32 object-cover rounded-lg"
                    >
                  } @else {
                    <div class="w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center">
                      <svg class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                    </div>
                  }
                  
                  <div class="absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex flex-col justify-between p-2">
                    <div class="text-white text-xs truncate">{{ media.name }}</div>
                    <button 
                      type="button" 
                      class="self-end text-white hover:text-red-300"
                      (click)="removeTemporaryMedia($index)"
                    >
                      <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                      </svg>
                    </button>
                  </div>
                </div>
                }
                
              </div>
            </div>

            <div class="flex flex-row justify-between mt-4">
              <span></span>
              <button class="bg-appgreen hover:bg-darkgreen text-white rounded-xl py-3 px-10"
                (click)="saveCity()">
                Enregistrer 
                @if(isLoading){
                  <i class="fas fa-circle-notch ml-2 fa-spin text-xl animate-spin"></i>
                }
              </button>
            </div>
          </div>

        </div>
      </div>
    }


    
    
  </div>
</div>


@if (isBlackBackgroundVisible) {
  <div class="fixed top-0 left-0 w-full h-full bg-black/25 z-40"
    (click)="closeAll()"></div>
}


@if (isAddContactFormOpened) {
  <!-- Formulaire pour l'ajout d'un contact -->
<div class="fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] w-full md:w-2/6 bg-white border-2 rounded-xl shadow-lg z-50 p-6">
  <h1 class="text-xl font-semibold mb-10">Ajouter un contact</h1>
  <div class="space-y-6">
    <!-- Nom du contact -->
    <div class="space-y-2">
      <span> Nom du contact </span>
      <div class="relative">
        <input
          type="text"
          min="1"
          [(ngModel)]="newContact.name"
          placeholder="Entrez la durée du bail"
          class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
        />
      </div>
    </div>

    <!-- Email -->
    <div class="space-y-2">
      <span> Email </span>
      <div class="relative">
        <input
          type="text"
          min="1"
          [(ngModel)]="newContact.email"
          placeholder="Entrez la durée du bail"
          class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
        />
      </div>
    </div>

    <!-- Numéro de téléphone -->
    <div class="space-y-2">
      <span> Numéro de téléphone </span>
      <div class="relative">
        <input
          type="text"
          min="1"
          [(ngModel)]="newContact.phone"
          placeholder="Entrez la durée du bail"
          class="w-full pl-4 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-all duration-200 text-gray-900 placeholder-gray-400"
        />
      </div>
    </div>

    <button class="bg-appgreen text-white rounded-lg py-3 w-full hover:bg-darkgreen"
      (click)="addContact()">
      Ajouter
    </button>
    
  </div>
</div>
}


@if (isDocumentFormOpened) {
  <!-- Formulaire pour l'ajout d'un document PDF -->
  <div class="fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] w-full md:w-3/6 bg-white border-2 rounded-xl shadow-lg z-50 p-6">
    <h1 class="text-xl font-semibold mb-10">Ajouter un document légal</h1>
    <!-- Zone de drag and drop pour les documents -->
<div class="space-y-2 mt-6">
  <span class="block text-sm font-medium text-gray-700">Documents de la cité</span>
  
  <div 
    class="relative border-2 border-dashed border-gray-300 rounded-xl p-6 text-center"
    (dragover)="dragOver($event)"
    (drop)="onDocumentsDropped($event)"
  >
    <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
    </svg>
    
    <div class="mt-2 flex text-sm text-gray-600">
      <label for="documents-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-teal-600 hover:text-teal-500 focus-within:outline-none">
        <span>Téléverser des documents</span>
        <input 
          id="documents-upload" 
          name="documents-upload" 
          type="file" 
          class="sr-only"
          accept=".pdf,.doc,.docx"
          multiple
          (change)="onDocumentsSelected($event)"
        >
      </label>
      <p class="pl-1">ou glissez-déposez</p>
    </div>
    <p class="text-xs text-gray-500 mt-1">PDF, DOC, DOCX jusqu'à 10MB par fichier</p>
  </div>

  <!-- Liste des documents uploadés -->
  @if (cityData.documents.length > 0) {
    <div class="mt-4 space-y-2">
      @for (document of cityData.documents; track $index) {
        <div class="flex items-center justify-between bg-gray-50 p-3 rounded-lg">
          <div class="flex items-center">
            <svg class="h-5 w-5 text-gray-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              @if (document.type === 'application/pdf') {
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              } @else {
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              }
            </svg>
            <span class="text-sm text-gray-700 truncate max-w-xs">{{ document.name }}</span>
            <span class="text-xs text-gray-500 ml-2">({{ formatFileSize(document.size) }})</span>
          </div>
          <button 
            type="button" 
            class="text-red-500 hover:text-red-700"
            (click)="removeDocument($index)"
          >
            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
          </button>
        </div>
      }
    </div>
  }
</div>

    <button class="bg-appgreen text-white rounded-lg py-3 w-full hover:bg-darkgreen mt-4"
      (click)="addDocument()">
        Ajouter
      </button>
  </div>
}


@if (isVideoFormOpened) {
  <!-- Formulaire pour l'ajout d'une image ou d'une vidéo -->
<div class="fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] w-full md:w-3/6 bg-white border-2 rounded-xl shadow-lg z-50 p-6">
  <h1 class="text-xl font-semibold mb-10">Ajouter une image ou une vidéo</h1>
  <!-- Zone de drag and drop pour les médias -->
  <div class="space-y-2 mt-6">
    <span class="block text-sm font-medium text-gray-700">Médias (Images & Vidéos)</span>
    
    <div 
      class="relative border-2 border-dashed border-gray-300 rounded-xl p-6 text-center"
      (dragover)="dragOver($event)"
      (drop)="onMediaDropped($event)"
    >
      <!-- Icône -->
      <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>
      
      <div class="mt-2 flex text-sm text-gray-600">
        <label for="media-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-teal-600 hover:text-teal-500 focus-within:outline-none">
          <span>Sélectionner des médias</span>
          <input 
            id="media-upload" 
            name="media-upload" 
            type="file" 
            class="sr-only"
            accept="image/*,video/*"
            multiple
            (change)="onMediaSelected($event)"
          >
        </label>
        <p class="pl-1">ou glissez-déposez</p>
      </div>
      <p class="text-xs text-gray-500 mt-1">JPEG, PNG, GIF, MP4 jusqu'à 20MB par fichier</p>
    </div>

    <!-- Aperçu des médias sélectionnés avant ajout -->
    @if (temporaryMedia.length > 0) {
      <div class="mt-4 space-y-2">
        <h3 class="text-sm font-medium text-gray-700">Médias à ajouter</h3>
        
        <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
          @for (media of temporaryMedia; track $index) {
            <div class="relative group">
              @if (media.isImage) {
                <img 
                  [src]="media.preview" 
                  [alt]="media.name"
                  class="w-full h-32 object-cover rounded-lg"
                >
              } @else {
                <div class="w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center">
                  <svg class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
              }
              
              <div class="absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex flex-col justify-between p-2">
                <div class="text-white text-xs truncate">{{ media.name }}</div>
                <button 
                  type="button" 
                  class="self-end text-white hover:text-red-300"
                  (click)="removeTemporaryMedia($index)"
                >
                  <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                  </svg>
                </button>
              </div>
            </div>
          }
        </div>

        <!-- Bouton Ajouter -->
        <button
          type="button"
          class="bg-appgreen text-white rounded-lg py-3 w-full hover:bg-darkgreen mt-4"
          (click)="addMedias()"
        >
          Ajouter les médias
        </button>
      </div>
    }

    <!-- Message d'erreur -->
    @if (mediaUploadError) {
      <div class="mt-2 text-sm text-red-600">
        {{ mediaUploadError }}
      </div>
    }
  </div>
</div>
}



@if(isRegisterSucceed){
  <div
    class="bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out"
    [class]="isRegisterSucceed ? 'animate-fade-in-up' : ''"
  >
    <!-- Contenu du popup -->
    <div class="text-center">
      <!-- Icône de succès -->
      <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4">
        <i class="fas fa-check text-green-600 text-xl"></i>
      </div>

      <!-- Message -->
      <h3 class="text-lg font-medium text-gray-900 mb-2">Cité enregistrée avec succès !</h3>
      <p class="text-sm text-gray-500">
        Votre cité a été enregistrée avec succès. Vous pouvez maintenant accéder à toutes les fonctionnalités d'une cité.
      </p>

      <!-- Bouton de fermeture -->
      <div class="mt-6">
        <button
          [routerLink]="['/website/my-cities']" 
          (click)="isRegisterSucceed = false"
          class="px-4 py-2 bg-appgreen text-white rounded-md hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors"
        >
          Continuer
        </button>
      </div>
    </div>
  </div>
}


@if(isRegisterFailed){
  <div
    class="bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out"
    [class]="isRegisterFailed ? 'animate-fade-in-up' : ''"
  >
    <!-- Contenu du popup -->
    <div class="text-center">
      <!-- Icône de succès -->
      <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-200 mb-4">
        <i class="fas fa-x text-red-600 text-xl"></i>
      </div>

      <!-- Message -->
      <h3 class="text-lg font-medium text-gray-900 mb-2">Une erreur s'est produite !</h3>
      <p class="text-sm text-gray-500">
        Veuillez vérifier que les informations que vous avez entrez sont correctes et réessayer plutard.
      </p>

      <!-- Bouton de fermeture -->
      <div class="mt-6">
        <button
          (click)="isRegisterFailed = false"
          class="px-4 py-2 bg-appgreen text-white rounded-md hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors"
        >
          Continuer
        </button>
      </div>
    </div>
  </div>
}

